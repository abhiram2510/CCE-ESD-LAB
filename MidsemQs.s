    AREA RESET,DATA,READONLY
	EXPORT __Vectors
__Vectors
	DCD 0X10001000
	DCD Reset_Handler
	ALIGN
	AREA mycode,CODE,READONLY
	EXPORT Reset_Handler
	ENTRY
Reset_Handler
	LDR R7,=SRC
	LDR R0,[R7]
	MOV R1,#0x0F
	MOV R2,#0x04 ;counter
	MOV R8,#0x0 ;no of 1's
	AND R3,R0,R1
	B CHECK8
SHIFT
	SUB R2,#1
	CMP R2,#0
	BEQ CHECKEVEN
	LSR R0,R0,#4
	AND R3,R0,R1
	B CHECK8
CHECK8
	CMP R3,#0x8
	BMI CHECK4
	SUB R3,R3,#0x8
	ADD R8,#1
	B CHECK4
CHECK4
	CMP R3,#0x4
	BMI CHECK2
	SUB R3,R3,#0x4
	ADD R8,#1
	B CHECK2
CHECK2
	CMP R3,#0x2
	BMI CHECK1
	SUB R3,R3,#0x2
	ADD R8,#1
	B CHECK1
CHECK1
	CMP R3,#0x1
	BMI SHIFT
	SUB R3,R3,#0x1
	ADD R8,#1
	B SHIFT
CHECKEVEN
	LDR R0,[R7]
	AND R2,R0,0x0F
	LSRS R3,R2,#1
	BCS ODDNUM
	MOV R10,#0x0E
	LDR R4,=RES
	STR R8,[R4],#4
	STR R10,[R4]
	B STOP
ODDNUM
	MOV R10,#0x0D
	LDR R4,=RES
	MOV R6 ,#16
	SUB R8 , R6,R8
	STR R8,[R4],#4
	STR R10,[R4]
	B STOP
STOP
	B STOP
SRC DCD 0x1499
	AREA mydata, DATA, READWRITE
RES DCD 0
	END